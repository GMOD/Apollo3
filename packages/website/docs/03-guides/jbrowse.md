# JBrowse

Apollo is built on top of JBrowse, so users often need to configure the JBrowse
instance in which Apollo is running. For information about JBrowse and its
various configurations, see the [JBrowse docs](https://jbrowse.org/jb2/docs/).

The biggest difference between administering a typical non-Apollo JBrowse
installation and JBrowse with Apollo is where the configuration is stored. In a
non-Apollo JBrowse installation, the JBrowse configuration is stored in a file
usually called `config.json`. This file is where the configuration for the
assemblies, tracks, etc. that the JBrowse installation uses is stored. When
running JBrowse with Apollo, however, the Apollo Collaboration Server
dynamically generates the `config.json` based on the assemblies that is has
stored.

## How to edit the JBrowse `config.json`

Since the JBrowse `config.json` is dynamically generated by the Apollo
Collaboration Server, there is no `config.json` file to edit to configure
JBrowse. However, there needs to be some way to edit this configuration. To
enable this, the Apollo CLI is able to retrieve a `config.json` from the Apollo
Collaboration Server and write it to a file, which can be edited. This edited
`config.json` is then re-uploaded to Apollo. Apollo will store a copy of this
`config.json` and then merge it with the dynamically created `config.json` when
serving it.

One especially powerful use case that this enables is that once the Apollo CLI
creates a `config.json`, users can use the
[JBrowse CLI](https://jbrowse.org/jb2/docs/cli/) to edit it using operations
such as the `jbrowse add-track` command.

Here is an example of how to configure JBrowse with Apollo. For instructions on
logging in before running these commands, see the [CLI guide](cli).

```sh
apollo jbrowse get-config > config.json
```

This `config.json` can then be edited, either manually or with the JBrowe CLI.
Once the editing is finished, here is how to load the configuration back into
Apollo.

```sh
apollo jbrowse set-config config.json
# Recommend removing the config.json to prevent future confusion
rm config.json
```

## What JBrowse configuration can I add?

You can add any JBrowse configuration that you wish to the `config.json`, but
here are some common use cases for configuration JBrowse with Apollo.

- [Adding evidence tracks](evidence-tracks)
- [Adding plugins](plugins)
- [Changing themes or color schemes](themes-and-coloring)
